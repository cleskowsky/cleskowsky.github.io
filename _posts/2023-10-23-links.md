---
layout: post
title:  "Week 43: load shedding amazon, css center button, load balancing marcbrooker best-of-2 random"
---

Going to trying making 1 post a week for notes from article reading. :) 

* [Using load shedding to avoid overload](https://aws.amazon.com/builders-library/using-load-shedding-to-avoid-overload/): Lots of good ideas in this paper. What happens when a workload is applied to a server that is more than it can handle? Can we be in control of what happens next to some degree rather than just saying availability goes to 0? When a backend is slow, clients time out (from their point of view this is indistinguishable from a failure) and often retry. The backend work doesn't necessarily stop ... it just won't be delivered to anyone and the effort is lost. Not a good situation.
  * Be careful about what is shed (eg if load balancer health checks fail a server might be removed from production which would be bad when what you need is capacity)
  * Monitor the behaviour of these controls
  * Give priority to work that is more complete than new work (eg if you have to prioritize a request for page 5 or page 1 of a resource do page 5 because the system has already expended effort in generating pages 1-4)
  * Don't accept work when you're already overloaded
  * Throw away work that's probably so old as to be useless at this point (watch queues for this kind of stuff)
  * Be aware that there are queues everywhere in the system (watch them, limit them, what does normal look like)
* [Modern CSS](https://moderncss.dev/): A resource for advanced techniques and ways of thinking about how css, and modern browsers work.
* [The power of two random choices](https://brooker.co.za/blog/2012/01/17/two-random.html): Compares load balancer strategies for selecting a host to pass a request back to. Best of 2 random choices (least busy) is the best all around performer by quite a bit. (Best of n more generally) Performance is related to timeliness of busyness info of workers in the system.